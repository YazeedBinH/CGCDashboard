{"ast":null,"code":"import _objectSpread from\"C:/Users/WinDows/Downloads/admin-dashboard-pro-deploy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/WinDows/Downloads/admin-dashboard-pro-deploy/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"children\",\"className\"];import React,{useMemo}from\"react\";import{Pencil,Trash2}from\"lucide-react\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function TaskTable(_ref){let{tasks,onEdit,onDelete,groupBy=\"لا شيء\"}=_ref;const grouped=useMemo(()=>{if(groupBy===\"لا شيء\")return{\"\":tasks};const keyMap={\"الحالة\":\"status\",\"الجهة\":\"client\",\"المسؤول\":\"assignee\"};const key=keyMap[groupBy];const m={};tasks.forEach(t=>{const k=t[key]||\"غير محدد\";(m[k]=m[k]||[]).push(t);});return m;},[tasks,groupBy]);return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow p-4 overflow-x-auto space-y-6\",children:Object.entries(grouped).map(_ref2=>{let[group,rows]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[groupBy!==\"لا شيء\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-semibold text-gray-600 mb-2\",children:[group,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-400\",children:[\"(\",rows.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full min-w-[1000px]\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(TH,{children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0647\\u0645\\u0629\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0627\\u0644\\u0646\\u0648\\u0639\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0627\\u0644\\u062C\\u0647\\u0629\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0627\\u0644\\u0645\\u0633\\u0624\\u0648\\u0644\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0627\\u0644\\u0623\\u0648\\u0644\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0627\\u0644\\u0625\\u0646\\u062C\\u0627\\u0632\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0628\\u062F\\u0627\\u064A\\u0629\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0627\\u0633\\u062A\\u062D\\u0642\\u0627\\u0642\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0645\\u0631\\u0641\\u0642\\u0627\\u062A\"}),/*#__PURE__*/_jsx(TH,{children:\"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y\",children:rows.map(t=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(TD,{title:t.title,className:\"max-w-[240px] truncate\",children:t.title}),/*#__PURE__*/_jsx(TD,{children:t.type}),/*#__PURE__*/_jsx(TD,{children:/*#__PURE__*/_jsx(Badge,{status:t.status})}),/*#__PURE__*/_jsx(TD,{children:t.client}),/*#__PURE__*/_jsx(TD,{children:t.assignee}),/*#__PURE__*/_jsx(TD,{children:t.priority}),/*#__PURE__*/_jsx(TD,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 bg-gray-200 h-2 rounded-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(t.progress===100?'bg-green-500':'bg-blue-500'),style:{width:\"\".concat(t.progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs\",children:[t.progress,\"%\"]})]})}),/*#__PURE__*/_jsx(TD,{children:t.startDate}),/*#__PURE__*/_jsx(TD,{children:t.dueDate}),/*#__PURE__*/_jsx(TD,{className:\"text-xs text-gray-600\",children:(t.attachments||[]).length}),/*#__PURE__*/_jsx(TD,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onEdit(t),className:\"p-1 rounded hover:bg-gray-100\",children:/*#__PURE__*/_jsx(Pencil,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(t.id),className:\"p-1 rounded hover:bg-gray-100\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})})]},t.id))})]})]},group||\"all\");})});}function Badge(_ref3){let{status}=_ref3;const cls=status==='مكتمل'?'bg-green-100 text-green-700':status==='متأخر'?'bg-red-100 text-red-700':'bg-yellow-100 text-yellow-700';return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs \".concat(cls),children:status});}function TH(_ref4){let{children}=_ref4;return/*#__PURE__*/_jsx(\"th\",{className:\"text-right text-xs font-semibold text-gray-600 px-3 py-2\",children:children});}function TD(_ref5){let{children,className}=_ref5,rest=_objectWithoutProperties(_ref5,_excluded);return/*#__PURE__*/_jsx(\"td\",_objectSpread(_objectSpread({className:\"px-3 py-2 text-sm \".concat(className||'')},rest),{},{children:children}));}","map":{"version":3,"names":["React","useMemo","Pencil","Trash2","jsxs","_jsxs","jsx","_jsx","TaskTable","_ref","tasks","onEdit","onDelete","groupBy","grouped","keyMap","key","m","forEach","t","k","push","className","children","Object","entries","map","_ref2","group","rows","length","TH","TD","title","type","Badge","status","client","assignee","priority","concat","progress","style","width","startDate","dueDate","attachments","onClick","id","_ref3","cls","_ref4","_ref5","rest","_objectWithoutProperties","_excluded","_objectSpread"],"sources":["C:/Users/WinDows/Downloads/admin-dashboard-pro-deploy/src/components/TaskTable.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { Pencil, Trash2 } from \"lucide-react\";\n\nexport default function TaskTable({ tasks, onEdit, onDelete, groupBy = \"لا شيء\" }) {\n  const grouped = useMemo(() => {\n    if (groupBy === \"لا شيء\") return { \"\": tasks };\n    const keyMap = {\n      \"الحالة\": \"status\",\n      \"الجهة\": \"client\",\n      \"المسؤول\": \"assignee\"\n    };\n    const key = keyMap[groupBy];\n    const m = {};\n    tasks.forEach(t => {\n      const k = t[key] || \"غير محدد\";\n      (m[k] = m[k] || []).push(t);\n    });\n    return m;\n  }, [tasks, groupBy]);\n\n  return (\n    <div className=\"bg-white rounded-xl shadow p-4 overflow-x-auto space-y-6\">\n      {Object.entries(grouped).map(([group, rows]) => (\n        <div key={group || \"all\"}>\n          {groupBy !== \"لا شيء\" && <div className=\"text-sm font-semibold text-gray-600 mb-2\">{group} <span className=\"text-gray-400\">({rows.length})</span></div>}\n          <table className=\"w-full min-w-[1000px]\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <TH>اسم المهمة</TH><TH>النوع</TH><TH>الحالة</TH><TH>الجهة</TH><TH>المسؤول</TH>\n                <TH>الأولوية</TH><TH>الإنجاز</TH><TH>بداية</TH><TH>استحقاق</TH><TH>مرفقات</TH><TH>إجراءات</TH>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y\">\n              {rows.map(t => (\n                <tr key={t.id} className=\"hover:bg-gray-50\">\n                  <TD title={t.title} className=\"max-w-[240px] truncate\">{t.title}</TD>\n                  <TD>{t.type}</TD>\n                  <TD><Badge status={t.status} /></TD>\n                  <TD>{t.client}</TD>\n                  <TD>{t.assignee}</TD>\n                  <TD>{t.priority}</TD>\n                  <TD>\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-20 bg-gray-200 h-2 rounded-full\">\n                        <div className={`h-2 rounded-full ${t.progress===100?'bg-green-500':'bg-blue-500'}`} style={{width: `${t.progress}%`}}></div>\n                      </div>\n                      <span className=\"text-xs\">{t.progress}%</span>\n                    </div>\n                  </TD>\n                  <TD>{t.startDate}</TD>\n                  <TD>{t.dueDate}</TD>\n                  <TD className=\"text-xs text-gray-600\">{(t.attachments||[]).length}</TD>\n                  <TD>\n                    <div className=\"flex items-center gap-2\">\n                      <button onClick={()=>onEdit(t)} className=\"p-1 rounded hover:bg-gray-100\"><Pencil className=\"w-4 h-4\"/></button>\n                      <button onClick={()=>onDelete(t.id)} className=\"p-1 rounded hover:bg-gray-100\"><Trash2 className=\"w-4 h-4\"/></button>\n                    </div>\n                  </TD>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction Badge({ status }) {\n  const cls = status==='مكتمل'?'bg-green-100 text-green-700': status==='متأخر'?'bg-red-100 text-red-700':'bg-yellow-100 text-yellow-700';\n  return <span className={`px-2 py-1 rounded-full text-xs ${cls}`}>{status}</span>;\n}\nfunction TH({ children }) { return <th className=\"text-right text-xs font-semibold text-gray-600 px-3 py-2\">{children}</th>; }\nfunction TD({ children, className, ...rest }) { return <td className={`px-3 py-2 text-sm ${className||''}`} {...rest}>{children}</td>; }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}